(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1382,e=>{"use strict";let t="https://image.tmdb.org/t/p";async function r(e,t={}){let a=new URLSearchParams({api_key:"d7abe2eab0efe162ebe78893d460e1e9",...t}),i=`https://api.themoviedb.org/3${e}?${a.toString()}`,o=await fetch(i);if(!o.ok)throw Error(`TMDB API Error: ${o.status} ${o.statusText}`);return o.json()}function a(e,r="w500"){return e?`${t}/${r}${e}`:"/placeholder-poster.png"}function i(e,r="w1280"){return e?`${t}/${r}${e}`:"/placeholder-backdrop.png"}e.s(["getBackdropUrl",()=>i,"getPosterUrl",()=>a,"tmdbClient",0,{getTrending:async(e="all",t="week")=>r(`/trending/${e}/${t}`),getPopularMovies:async(e=1)=>r("/movie/popular",{page:e.toString()}),getTopRatedMovies:async(e=1)=>r("/movie/top_rated",{page:e.toString()}),getNowPlayingMovies:async(e=1)=>r("/movie/now_playing",{page:e.toString()}),getUpcomingMovies:async(e=1)=>r("/movie/upcoming",{page:e.toString()}),getMovieDetails:async e=>r(`/movie/${e}`,{append_to_response:"credits,videos,recommendations,similar"}),getPopularTVShows:async(e=1)=>r("/tv/popular",{page:e.toString()}),getTopRatedTVShows:async(e=1)=>r("/tv/top_rated",{page:e.toString()}),getOnTheAirTVShows:async(e=1)=>r("/tv/on_the_air",{page:e.toString()}),getTVShowDetails:async e=>r(`/tv/${e}`,{append_to_response:"credits,videos,recommendations,similar"}),getTVSeasonDetails:async(e,t)=>r(`/tv/${e}/season/${t}`),searchMulti:async(e,t=1)=>r("/search/multi",{query:e,page:t.toString()}),searchMovies:async(e,t=1)=>r("/search/movie",{query:e,page:t.toString()}),searchTVShows:async(e,t=1)=>r("/search/tv",{query:e,page:t.toString()}),getMovieGenres:async()=>r("/genre/movie/list"),getTVGenres:async()=>r("/genre/tv/list"),discoverMovies:async(e={})=>r("/discover/movie",e),discoverTVShows:async(e={})=>r("/discover/tv",e)}])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},89163,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),i=e.i(71689);e.i(50711);var o=e.i(82045),s=e.i(83394),n=e.i(33277),c=e.i(1382);function l(){let e=(0,a.useParams)(),l=(0,a.useRouter)(),{currentUser:d}=(0,n.useUser)(),p=(0,o.useMutation)(s.api.watchHistory.updateWatchProgress),[g,u]=(0,r.useState)(""),[m,v]=(0,r.useState)(null),h=Number(e.id);return(0,r.useEffect)(()=>{!async function(){try{let e=await c.tmdbClient.getMovieDetails(h);u(e.title),v(e.poster_path)}catch(e){console.error("Failed to fetch movie:",e)}}()},[h]),(0,r.useEffect)(()=>{if(!d||!g)return;let e=5;p({userId:d._id,mediaId:h,mediaType:"movie",title:g,posterPath:m||void 0,progress:e,duration:7200});let t=setInterval(()=>{e<90&&(e=Math.min(e+15,90),p({userId:d._id,mediaId:h,mediaType:"movie",title:g,posterPath:m||void 0,progress:e,duration:7200}))},3e4);return()=>clearInterval(t)},[d,h,g,m,p]),(0,t.jsxs)("div",{className:"fixed inset-0 w-screen h-screen bg-black z-50",children:[(0,t.jsx)("button",{onClick:()=>l.back(),className:"absolute top-4 left-4 z-10 p-2 bg-black/50 hover:bg-black/70 rounded-lg transition-colors",children:(0,t.jsx)(i.ArrowLeft,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("iframe",{src:`https://vidsrc.to/embed/movie/${h}`,className:"w-full h-full",frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"origin"})]})}e.s(["default",()=>l])}]);