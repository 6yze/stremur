(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70307,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566);e.i(50711);var a=e.i(82045),l=e.i(83394),i=e.i(33277);let n=["#e50914","#1db954","#ff6b35","#00a8e1","#9b59b6","#f1c40f","#e91e63","#00bcd4"];function o(){let e=(0,s.useRouter)(),{setCurrentUser:o}=(0,i.useUser)(),c=(0,a.useMutation)(l.api.users.createUser),[d,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[h,b]=(0,r.useState)(!1),[f,g]=(0,r.useState)(n[0]),[p,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)(""),v=async t=>{if(t.preventDefault(),!d.trim())return void N("Please enter a name");if(h&&4!==u.length)return void N("PIN must be 4 digits");j(!0),N("");try{let t=await c({name:d.trim(),pin:h?u:void 0,isAdmin:!0,color:f});o({_id:t,name:d.trim(),pin:h?u:void 0,isAdmin:!0,color:f,createdAt:Date.now()}),e.push("/")}catch(e){N("Failed to create profile. Please try again."),console.error(e)}finally{j(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-red-600 text-center mb-2",children:"STREMUR"}),(0,t.jsx)("p",{className:"text-gray-400 text-center mb-8",children:"Create your admin profile to get started"}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Name"}),(0,t.jsx)("input",{id:"name",type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-white transition-colors",maxLength:20})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Color"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:n.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>g(e),className:`w-10 h-10 rounded-full transition-transform ${f===e?"ring-2 ring-white ring-offset-2 ring-offset-black scale-110":""}`,style:{backgroundColor:e}},e))})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:h,onChange:e=>b(e.target.checked),className:"w-5 h-5 rounded bg-zinc-800 border-zinc-700 text-red-600 focus:ring-red-600"}),(0,t.jsx)("span",{className:"text-gray-300",children:"Protect with PIN"})]})}),h&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-300 mb-2",children:"4-Digit PIN"}),(0,t.jsx)("input",{id:"pin",type:"password",inputMode:"numeric",value:u,onChange:e=>{x(e.target.value.replace(/\D/g,"").slice(0,4))},placeholder:"****",className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-white transition-colors text-center text-2xl tracking-widest",maxLength:4})]}),y&&(0,t.jsx)("p",{className:"text-red-500 text-sm text-center",children:y}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"w-full py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-800 disabled:cursor-not-allowed rounded-lg font-semibold text-white transition-colors",children:p?"Creating...":"Create Profile"})]}),(0,t.jsx)("div",{className:"mt-8 flex justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-lg mx-auto flex items-center justify-center text-4xl font-bold text-white shadow-lg",style:{backgroundColor:f},children:d?d.charAt(0).toUpperCase():"?"}),(0,t.jsx)("p",{className:"text-gray-400 mt-2",children:d||"Your Profile"})]})})]})})}e.s(["default",()=>o])}]);