module.exports=[35023,a=>{"use strict";let b="https://image.tmdb.org/t/p";async function c(a,b={}){let d=new URLSearchParams({api_key:"d7abe2eab0efe162ebe78893d460e1e9",...b}),e=`https://api.themoviedb.org/3${a}?${d.toString()}`,f=await fetch(e);if(!f.ok)throw Error(`TMDB API Error: ${f.status} ${f.statusText}`);return f.json()}function d(a,c="w500"){return a?`${b}/${c}${a}`:"/placeholder-poster.png"}function e(a,c="w1280"){return a?`${b}/${c}${a}`:"/placeholder-backdrop.png"}a.s(["getBackdropUrl",()=>e,"getPosterUrl",()=>d,"tmdbClient",0,{getTrending:async(a="all",b="week")=>c(`/trending/${a}/${b}`),getPopularMovies:async(a=1)=>c("/movie/popular",{page:a.toString()}),getTopRatedMovies:async(a=1)=>c("/movie/top_rated",{page:a.toString()}),getNowPlayingMovies:async(a=1)=>c("/movie/now_playing",{page:a.toString()}),getUpcomingMovies:async(a=1)=>c("/movie/upcoming",{page:a.toString()}),getMovieDetails:async a=>c(`/movie/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getPopularTVShows:async(a=1)=>c("/tv/popular",{page:a.toString()}),getTopRatedTVShows:async(a=1)=>c("/tv/top_rated",{page:a.toString()}),getOnTheAirTVShows:async(a=1)=>c("/tv/on_the_air",{page:a.toString()}),getTVShowDetails:async a=>c(`/tv/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getTVSeasonDetails:async(a,b)=>c(`/tv/${a}/season/${b}`),searchMulti:async(a,b=1)=>c("/search/multi",{query:a,page:b.toString()}),searchMovies:async(a,b=1)=>c("/search/movie",{query:a,page:b.toString()}),searchTVShows:async(a,b=1)=>c("/search/tv",{query:a,page:b.toString()}),getMovieGenres:async()=>c("/genre/movie/list"),getTVGenres:async()=>c("/genre/tv/list"),discoverMovies:async(a={})=>c("/discover/movie",a),discoverTVShows:async(a={})=>c("/discover/tv",a)}])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},92500,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(210);a.i(11241);var f=a.i(96373),g=a.i(1322),h=a.i(35475),i=a.i(35023);function j(){let a=(0,d.useParams)(),j=(0,d.useRouter)(),{currentUser:k}=(0,h.useUser)(),l=(0,f.useMutation)(g.api.watchHistory.updateWatchProgress),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),q=Number(a.id),r=Number(a.season),s=Number(a.episode);return(0,c.useEffect)(()=>{!async function(){try{let a=await i.tmdbClient.getTVShowDetails(q);n(a.name),p(a.poster_path)}catch(a){console.error("Failed to fetch show:",a)}}()},[q]),(0,c.useEffect)(()=>{if(!k||!m)return;let a=5;l({userId:k._id,mediaId:q,mediaType:"tv",title:m,posterPath:o||void 0,progress:a,duration:3600,season:r,episode:s});let b=setInterval(()=>{a<90&&(a=Math.min(a+15,90),l({userId:k._id,mediaId:q,mediaType:"tv",title:m,posterPath:o||void 0,progress:a,duration:3600,season:r,episode:s}))},3e4);return()=>clearInterval(b)},[k,q,r,s,m,o,l]),(0,b.jsxs)("div",{className:"fixed inset-0 w-screen h-screen bg-black z-50",children:[(0,b.jsx)("button",{onClick:()=>j.back(),className:"absolute top-4 left-4 z-10 p-2 bg-black/50 hover:bg-black/70 rounded-lg transition-colors",children:(0,b.jsx)(e.ArrowLeft,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("iframe",{src:`https://vidsrc.to/embed/tv/${q}/${r}/${s}`,className:"w-full h-full",frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"origin"})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=_556da229._.js.map