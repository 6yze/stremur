module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},52059,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(21374);function f({id:a,title:f,posterPath:g,mediaType:h,voteAverage:i}){return(0,b.jsxs)(d.default,{href:`/${h}/${a}`,className:"group relative flex-none w-[160px] md:w-[200px] aspect-[2/3] bg-zinc-900 rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:z-10",children:[g?(0,b.jsx)(c.default,{src:`https://image.tmdb.org/t/p/w500${g}`,alt:f,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 160px, 200px"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-zinc-800 text-zinc-500 text-sm p-4 text-center",children:"No Poster"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4",children:[(0,b.jsx)("h3",{className:"text-white font-medium text-sm line-clamp-2",children:f}),void 0!==i&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500 mt-1",children:[(0,b.jsx)(e.Star,{className:"w-3 h-3 fill-current"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:i.toFixed(1)})]})]})]})}a.s(["MediaCard",()=>f])},35023,a=>{"use strict";let b="https://image.tmdb.org/t/p";async function c(a,b={}){let d=new URLSearchParams({api_key:"d7abe2eab0efe162ebe78893d460e1e9",...b}),e=`https://api.themoviedb.org/3${a}?${d.toString()}`,f=await fetch(e);if(!f.ok)throw Error(`TMDB API Error: ${f.status} ${f.statusText}`);return f.json()}function d(a,c="w500"){return a?`${b}/${c}${a}`:"/placeholder-poster.png"}function e(a,c="w1280"){return a?`${b}/${c}${a}`:"/placeholder-backdrop.png"}a.s(["getBackdropUrl",()=>e,"getPosterUrl",()=>d,"tmdbClient",0,{getTrending:async(a="all",b="week")=>c(`/trending/${a}/${b}`),getPopularMovies:async(a=1)=>c("/movie/popular",{page:a.toString()}),getTopRatedMovies:async(a=1)=>c("/movie/top_rated",{page:a.toString()}),getNowPlayingMovies:async(a=1)=>c("/movie/now_playing",{page:a.toString()}),getUpcomingMovies:async(a=1)=>c("/movie/upcoming",{page:a.toString()}),getMovieDetails:async a=>c(`/movie/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getPopularTVShows:async(a=1)=>c("/tv/popular",{page:a.toString()}),getTopRatedTVShows:async(a=1)=>c("/tv/top_rated",{page:a.toString()}),getOnTheAirTVShows:async(a=1)=>c("/tv/on_the_air",{page:a.toString()}),getTVShowDetails:async a=>c(`/tv/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getTVSeasonDetails:async(a,b)=>c(`/tv/${a}/season/${b}`),searchMulti:async(a,b=1)=>c("/search/multi",{query:a,page:b.toString()}),searchMovies:async(a,b=1)=>c("/search/movie",{query:a,page:b.toString()}),searchTVShows:async(a,b=1)=>c("/search/tv",{query:a,page:b.toString()}),getMovieGenres:async()=>c("/genre/movie/list"),getTVGenres:async()=>c("/genre/tv/list"),discoverMovies:async(a={})=>c("/discover/movie",a),discoverTVShows:async(a={})=>c("/discover/tv",a)}])},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(35023),f=a.i(71987),g=a.i(25015),h=a.i(70106);let i=(0,h.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var j=a.i(38246);function k({item:a}){let c=a.title||a.name||"Untitled",d=a.backdrop_path;return(0,b.jsxs)("div",{className:"relative w-full h-[40vh] md:h-[50vh]",children:[d?(0,b.jsx)(f.default,{src:`https://image.tmdb.org/t/p/original${d}`,alt:c,fill:!0,className:"object-cover",priority:!0,sizes:"100vw"}):(0,b.jsx)("div",{className:"w-full h-full bg-zinc-900"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-transparent to-transparent"}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 w-full p-4 md:p-8 space-y-4 max-w-2xl",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-white drop-shadow-md",children:c}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"bg-green-600 text-white text-xs px-2 py-0.5 rounded font-bold",children:[Math.round(10*a.vote_average),"% Match"]}),(0,b.jsx)("span",{className:"text-zinc-300 text-sm",children:a.release_date||a.first_air_date?new Date(a.release_date||a.first_air_date||"").getFullYear():""})]}),(0,b.jsx)("p",{className:"text-zinc-200 text-sm md:text-base line-clamp-3 md:line-clamp-4 max-w-xl drop-shadow-sm",children:a.overview}),(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[(0,b.jsxs)(j.default,{href:`/${a.media_type}/${a.id}`,className:"flex items-center gap-2 bg-[#E50914] hover:bg-[#b2070f] text-white px-6 py-2 rounded-md font-semibold transition-colors",children:[(0,b.jsx)(g.Play,{className:"w-5 h-5 fill-current"}),"Play"]}),(0,b.jsxs)(j.default,{href:`/${a.media_type}/${a.id}`,className:"flex items-center gap-2 bg-zinc-500/70 hover:bg-zinc-500/50 text-white px-6 py-2 rounded-md font-semibold transition-colors backdrop-blur-sm",children:[(0,b.jsx)(i,{className:"w-5 h-5"}),"More Info"]})]})]})]})}var l=a.i(52059);function m({title:a,items:c}){return c&&0!==c.length?(0,b.jsxs)("div",{className:"space-y-2 py-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white px-4 md:px-8",children:a}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"flex overflow-x-auto gap-4 px-4 md:px-8 pb-4 scrollbar-hide snap-x snap-mandatory",children:c.map(a=>(0,b.jsx)("div",{className:"snap-start",children:(0,b.jsx)(l.MediaCard,{id:a.id,title:a.title||a.name||"Untitled",posterPath:a.poster_path,mediaType:a.media_type,voteAverage:a.vote_average})},a.id))})})]}):null}let n=(0,h.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.i(11241);var o=a.i(96373),p=a.i(1322),q=a.i(35475);function r({item:a}){let c=(0,d.useRouter)(),f=a.duration>0?a.progress/a.duration*100:0;return(0,b.jsxs)("div",{className:"w-[160px] md:w-[200px] rounded-lg overflow-hidden bg-zinc-900 group cursor-pointer transition-transform duration-200 hover:scale-105 flex-shrink-0",onClick:()=>{"movie"===a.mediaType?c.push(`/movie/${a.mediaId}`):c.push(`/tv/${a.mediaId}`)},children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a.posterPath?(0,e.getPosterUrl)(a.posterPath):"/placeholder-poster.png",alt:a.title,className:"w-full aspect-[2/3] object-cover"}),"tv"===a.mediaType&&a.season&&a.episode&&(0,b.jsxs)("div",{className:"absolute top-2 left-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:["S",a.season," E",a.episode]}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:(0,b.jsx)("div",{className:"h-full bg-red-600 transition-all duration-200",style:{width:`${Math.min(f,100)}%`}})})]}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white line-clamp-2 group-hover:text-red-500 transition-colors",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-zinc-400 mt-1",children:[Math.round(f),"% watched"]})]})]})}function s(){let{currentUser:a}=(0,q.useUser)(),c=(0,o.useQuery)(p.api.watchHistory.getWatchHistory,a?{userId:a._id,limit:20}:"skip");return void 0===c?(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("div",{className:"px-4 md:px-8 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Continue Watching"}),(0,b.jsx)(n,{className:"w-5 h-5 text-zinc-400"})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsx)("div",{className:"flex gap-4 px-4 md:px-8",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"w-[160px] md:w-[200px] flex-shrink-0",children:(0,b.jsxs)("div",{className:"rounded-lg overflow-hidden bg-zinc-900 animate-pulse",children:[(0,b.jsx)("div",{className:"w-full aspect-[2/3] bg-zinc-800"}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("div",{className:"h-4 bg-zinc-800 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-zinc-800 rounded w-3/4"})]})]})},c))})})]}):c&&0!==c.length?(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("div",{className:"px-4 md:px-8 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Continue Watching"}),(0,b.jsx)(n,{className:"w-5 h-5 text-zinc-400"})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsx)("div",{className:"flex gap-4 px-4 md:px-8",children:c.map(a=>(0,b.jsx)(r,{item:a},a._id))})})]}):null}function t(){let a=(0,d.useRouter)(),{currentUser:f,users:g,isLoading:h}=(0,q.useUser)(),[i,j]=(0,c.useState)([]),[l,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[r,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{if(!h){if(g&&0===g.length)return void a.push("/setup");if(g&&g.length>0&&!f)return void a.push("/profiles")}},[h,g,f,a]),(0,c.useEffect)(()=>{async function a(){z(!0);try{let[a,b,c,d,f,g]=await Promise.all([e.tmdbClient.getTrending("movie"),e.tmdbClient.getTrending("tv"),e.tmdbClient.getPopularMovies(),e.tmdbClient.getPopularTVShows(),e.tmdbClient.getTopRatedMovies(),e.tmdbClient.getTopRatedTVShows()]);j(a.results),n(b.results),p(c.results),t(d.results),v(f.results),x(g.results)}catch(a){console.error("Failed to fetch media:",a)}finally{z(!1)}}f&&a()},[f]),h||!f&&g&&g.length>0||y)return(0,b.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});let A=i[0];return(0,b.jsxs)("main",{className:"min-h-screen bg-black pb-20",children:[A&&(0,b.jsx)(k,{item:A}),(0,b.jsx)(s,{}),(0,b.jsxs)("div",{className:"space-y-8 mt-4 md:mt-8",children:[(0,b.jsx)(m,{title:"Trending Movies",items:i}),(0,b.jsx)(m,{title:"Trending TV Shows",items:l}),(0,b.jsx)(m,{title:"Popular Movies",items:o}),(0,b.jsx)(m,{title:"Popular TV Shows",items:r}),(0,b.jsx)(m,{title:"Top Rated Movies",items:u}),(0,b.jsx)(m,{title:"Top Rated TV Shows",items:w})]})]})}a.s(["default",()=>t],40777)}];

//# sourceMappingURL=_6e74d54e._.js.map