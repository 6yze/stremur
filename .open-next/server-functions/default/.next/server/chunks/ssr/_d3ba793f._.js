module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},35023,a=>{"use strict";let b="https://image.tmdb.org/t/p";async function c(a,b={}){let d=new URLSearchParams({api_key:"d7abe2eab0efe162ebe78893d460e1e9",...b}),e=`https://api.themoviedb.org/3${a}?${d.toString()}`,f=await fetch(e);if(!f.ok)throw Error(`TMDB API Error: ${f.status} ${f.statusText}`);return f.json()}function d(a,c="w500"){return a?`${b}/${c}${a}`:"/placeholder-poster.png"}function e(a,c="w1280"){return a?`${b}/${c}${a}`:"/placeholder-backdrop.png"}a.s(["getBackdropUrl",()=>e,"getPosterUrl",()=>d,"tmdbClient",0,{getTrending:async(a="all",b="week")=>c(`/trending/${a}/${b}`),getPopularMovies:async(a=1)=>c("/movie/popular",{page:a.toString()}),getTopRatedMovies:async(a=1)=>c("/movie/top_rated",{page:a.toString()}),getNowPlayingMovies:async(a=1)=>c("/movie/now_playing",{page:a.toString()}),getUpcomingMovies:async(a=1)=>c("/movie/upcoming",{page:a.toString()}),getMovieDetails:async a=>c(`/movie/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getPopularTVShows:async(a=1)=>c("/tv/popular",{page:a.toString()}),getTopRatedTVShows:async(a=1)=>c("/tv/top_rated",{page:a.toString()}),getOnTheAirTVShows:async(a=1)=>c("/tv/on_the_air",{page:a.toString()}),getTVShowDetails:async a=>c(`/tv/${a}`,{append_to_response:"credits,videos,recommendations,similar"}),getTVSeasonDetails:async(a,b)=>c(`/tv/${a}/season/${b}`),searchMulti:async(a,b=1)=>c("/search/multi",{query:a,page:b.toString()}),searchMovies:async(a,b=1)=>c("/search/movie",{query:a,page:b.toString()}),searchTVShows:async(a,b=1)=>c("/search/tv",{query:a,page:b.toString()}),getMovieGenres:async()=>c("/genre/movie/list"),getTVGenres:async()=>c("/genre/tv/list"),discoverMovies:async(a={})=>c("/discover/movie",a),discoverTVShows:async(a={})=>c("/discover/tv",a)}])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},41675,14032,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>c],41675);var d=a.i(87924);let e=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.i(11241);var g=a.i(96373),h=a.i(1322),i=a.i(35475);function j({mediaType:a,mediaId:b,title:c,posterPath:j}){let{currentUser:k}=(0,i.useUser)(),l=(0,g.useQuery)(h.api.watchlist.isInWatchlist,k?{userId:k._id,mediaId:b,mediaType:a}:"skip"),m=(0,g.useMutation)(h.api.watchlist.addToWatchlist),n=(0,g.useMutation)(h.api.watchlist.removeFromWatchlist),o=async()=>{if(k)try{l?await n({userId:k._id,mediaId:b,mediaType:a}):await m({userId:k._id,mediaId:b,mediaType:a,title:c,posterPath:j||void 0})}catch(a){console.error("Failed to toggle watchlist:",a)}};return k?(0,d.jsxs)("button",{onClick:o,disabled:void 0===l,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-colors ${l?"bg-green-600 hover:bg-green-700 text-white":"bg-zinc-700 hover:bg-zinc-600 text-white"} disabled:opacity-50`,children:[l?(0,d.jsx)(f,{className:"w-5 h-5"}):(0,d.jsx)(e,{className:"w-5 h-5"}),l?"In Watchlist":"Watchlist"]}):null}a.s(["WatchlistButton",()=>j],14032)},53756,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(38246),g=a.i(210),h=a.i(25015),i=a.i(21374),j=a.i(41675),k=a.i(35023),l=a.i(14032),m=a.i(70106);let n=(0,m.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),o=(0,m.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);function p({seasons:a,tvId:d}){let[e,g]=(0,c.useState)(a.find(a=>1===a.season_number)||a[0]),[i,j]=(0,c.useState)(!1);if(!a||0===a.length)return null;let k=a=>{if(a.episodes){let b=a.episodes.length;return`${b} ${1===b?"episode":"episodes"}`}return a.episode_count?`${a.episode_count} ${1===a.episode_count?"episode":"episodes"}`:"Episodes"};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>j(!i),className:"w-full md:w-auto min-w-[250px] flex items-center justify-between bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-3 rounded-lg transition-colors",children:[(0,b.jsx)("span",{className:"font-medium",children:e?.name||"Select Season"}),(0,b.jsx)(n,{className:`w-5 h-5 transition-transform ${i?"rotate-180":""}`})]}),i&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 md:right-auto mt-2 bg-zinc-800 rounded-lg shadow-xl z-20 overflow-hidden border border-zinc-700",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>{g(a),j(!1)},className:`w-full text-left px-4 py-3 hover:bg-zinc-700 transition-colors flex items-center justify-between ${e?.id===a.id?"bg-zinc-700":""}`,children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsx)("span",{className:"text-zinc-400 text-sm",children:k(a)})]},a.id))})]}),e&&(0,b.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-5 h-5"}),e.name]}),(0,b.jsx)("span",{className:"text-zinc-400 text-sm",children:k(e)})]}),e.overview&&(0,b.jsx)("p",{className:"text-zinc-300 text-sm",children:e.overview}),e.air_date&&(0,b.jsxs)("p",{className:"text-zinc-400 text-sm",children:["First aired: ",new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.episodes&&e.episodes.length>0&&(0,b.jsxs)("div",{className:"pt-3 border-t border-zinc-700",children:[(0,b.jsx)("p",{className:"text-zinc-400 text-sm mb-2",children:"Episodes:"}),(0,b.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.episodes.map(a=>(0,b.jsxs)(f.default,{href:`/watch/tv/${d}/${e.season_number}/${a.episode_number}`,className:"flex items-center gap-3 p-2 hover:bg-zinc-700/50 rounded transition-colors",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-zinc-700 hover:bg-zinc-600 rounded-full flex items-center justify-center transition-colors",children:(0,b.jsx)(h.Play,{className:"w-4 h-4 fill-current"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-white text-sm font-medium truncate",children:[a.episode_number,". ",a.name]}),a.overview&&(0,b.jsx)("p",{className:"text-zinc-400 text-xs truncate",children:a.overview})]}),a.runtime&&(0,b.jsxs)("span",{className:"text-zinc-500 text-xs flex-shrink-0",children:[a.runtime,"m"]})]},a.id))})]})]})]})}function q(){let a=(0,d.useParams)(),m=(0,d.useRouter)(),[n,o]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(null);if((0,c.useEffect)(()=>{!async function(){if(a.id){t(!0),v(null);try{let b=await k.tmdbClient.getTVShowDetails(Number(a.id));o(b);let c=b.seasons?.filter(a=>a.season_number>0)||[],d=await Promise.all(c.map(async b=>{try{return await k.tmdbClient.getTVSeasonDetails(Number(a.id),b.season_number)}catch{return b}}));r(d)}catch(a){console.error("Failed to fetch TV show:",a),v("Failed to load TV show details")}finally{t(!1)}}}()},[a.id]),s)return(0,b.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(u||!n)return(0,b.jsxs)("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center gap-4",children:[(0,b.jsx)("p",{className:"text-red-500",children:u||"TV show not found"}),(0,b.jsx)("button",{onClick:()=>m.back(),className:"px-4 py-2 bg-zinc-800 rounded hover:bg-zinc-700 transition-colors",children:"Go Back"})]});let w=n.backdrop_path?(0,k.getBackdropUrl)(n.backdrop_path):null,x=n.poster_path?(0,k.getPosterUrl)(n.poster_path):null,y=n.first_air_date?new Date(n.first_air_date).getFullYear():null;return(0,b.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,b.jsx)("div",{className:"relative z-10 p-4 md:p-8",children:(0,b.jsxs)(f.default,{href:"/",className:"inline-flex items-center gap-2 text-zinc-300 hover:text-white transition-colors",children:[(0,b.jsx)(g.ArrowLeft,{className:"w-5 h-5"}),"Back"]})}),(0,b.jsxs)("div",{className:"relative h-[50vh] md:h-[70vh]",children:[w?(0,b.jsx)(e.default,{src:w,alt:n.name,fill:!0,className:"object-cover",priority:!0,sizes:"100vw"}):(0,b.jsx)("div",{className:"w-full h-full bg-zinc-900"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-transparent"})]}),(0,b.jsx)("div",{className:"relative -mt-32 md:-mt-48 px-4 md:px-8 pb-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,b.jsx)("div",{className:"flex-shrink-0 hidden md:block",children:x?(0,b.jsx)("div",{className:"relative w-[200px] md:w-[300px] aspect-[2/3] rounded-lg overflow-hidden shadow-2xl",children:(0,b.jsx)(e.default,{src:x,alt:n.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 200px, 300px"})}):(0,b.jsx)("div",{className:"w-[200px] md:w-[300px] aspect-[2/3] rounded-lg bg-zinc-800 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-zinc-600",children:"No poster"})})}),(0,b.jsxs)("div",{className:"flex-1 pt-4",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4",children:n.name}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-zinc-300 mb-6",children:[n.vote_average>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Star,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),(0,b.jsx)("span",{children:n.vote_average.toFixed(1)})]}),y&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.Calendar,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:y})]}),n.number_of_seasons&&(0,b.jsxs)("span",{children:[n.number_of_seasons," Season",n.number_of_seasons>1?"s":""]})]}),n.overview&&(0,b.jsx)("p",{className:"text-zinc-300 text-lg leading-relaxed mb-8 max-w-3xl",children:n.overview}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,b.jsxs)(f.default,{href:`/watch/tv/${n.id}/1/1`,className:"inline-flex items-center gap-2 px-8 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-white transition-colors",children:[(0,b.jsx)(h.Play,{className:"w-5 h-5 fill-white"}),"Watch Now"]}),(0,b.jsx)(l.WatchlistButton,{mediaId:n.id,mediaType:"tv",title:n.name,posterPath:n.poster_path})]}),q.length>0&&(0,b.jsx)(p,{seasons:q,tvId:Number(a.id)})]})]})})})]})}a.s(["default",()=>q],53756)}];

//# sourceMappingURL=_d3ba793f._.js.map