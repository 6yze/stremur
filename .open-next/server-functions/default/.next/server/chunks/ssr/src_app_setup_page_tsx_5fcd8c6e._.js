module.exports=[14546,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(11241);var e=a.i(96373),f=a.i(1322),g=a.i(35475);let h=["#e50914","#1db954","#ff6b35","#00a8e1","#9b59b6","#f1c40f","#e91e63","#00bcd4"];function i(){let a=(0,d.useRouter)(),{setCurrentUser:i}=(0,g.useUser)(),j=(0,e.useMutation)(f.api.users.createUser),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(h[0]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),w=async b=>{if(b.preventDefault(),!k.trim())return void v("Please enter a name");if(o&&4!==m.length)return void v("PIN must be 4 digits");t(!0),v("");try{let b=await j({name:k.trim(),pin:o?m:void 0,isAdmin:!0,color:q});i({_id:b,name:k.trim(),pin:o?m:void 0,isAdmin:!0,color:q,createdAt:Date.now()}),a.push("/")}catch(a){v("Failed to create profile. Please try again."),console.error(a)}finally{t(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"max-w-md w-full",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-red-600 text-center mb-2",children:"STREMUR"}),(0,b.jsx)("p",{className:"text-gray-400 text-center mb-8",children:"Create your admin profile to get started"}),(0,b.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Name"}),(0,b.jsx)("input",{id:"name",type:"text",value:k,onChange:a=>l(a.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-white transition-colors",maxLength:20})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Color"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:h.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>r(a),className:`w-10 h-10 rounded-full transition-transform ${q===a?"ring-2 ring-white ring-offset-2 ring-offset-black scale-110":""}`,style:{backgroundColor:a}},a))})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:o,onChange:a=>p(a.target.checked),className:"w-5 h-5 rounded bg-zinc-800 border-zinc-700 text-red-600 focus:ring-red-600"}),(0,b.jsx)("span",{className:"text-gray-300",children:"Protect with PIN"})]})}),o&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-300 mb-2",children:"4-Digit PIN"}),(0,b.jsx)("input",{id:"pin",type:"password",inputMode:"numeric",value:m,onChange:a=>{n(a.target.value.replace(/\D/g,"").slice(0,4))},placeholder:"****",className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-white transition-colors text-center text-2xl tracking-widest",maxLength:4})]}),u&&(0,b.jsx)("p",{className:"text-red-500 text-sm text-center",children:u}),(0,b.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-800 disabled:cursor-not-allowed rounded-lg font-semibold text-white transition-colors",children:s?"Creating...":"Create Profile"})]}),(0,b.jsx)("div",{className:"mt-8 flex justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-lg mx-auto flex items-center justify-center text-4xl font-bold text-white shadow-lg",style:{backgroundColor:q},children:k?k.charAt(0).toUpperCase():"?"}),(0,b.jsx)("p",{className:"text-gray-400 mt-2",children:k||"Your Profile"})]})})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_app_setup_page_tsx_5fcd8c6e._.js.map